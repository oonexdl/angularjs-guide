What is Angularjs?

- Structural framework for dynamic web apps 
- Teach the brower new syntax 
- Not a library for DOM manipulation, such as jQuery



Overview

```html
<div ng-app="myApp">
  <div ng-controller="exampleCtrl" ng-init="amount=100;">
    <input ng-model="amount"></input>
    <p>{{ amount | amount }}</p>
    <p>{{ rmb | amount }}</p>
    <my-amount></my-amount>
  </div>
</div> 
```

```js
angular.module('myApp', ['otherModule'])
.controller('exampleCtrl', [
    '$scope', 
    'currencyConverter', 
    function ($scope, converter) {
        $scope.rmb = converter.convert($scope.amount);
    }
])
.factory('currencyConverter', function () {
    return {
        convert: function(amount) { 
            return amount * 6.09;
        }
    }
})
.directive('myAmount', function() {
    return {
        template: '<div>my amount: {{ amount }}</div>'
    };
})
```



How angularjs initializes?


AngularJS looks for the ngApp directive which designates your application root, once the ngApp directive is found then:


- load the module associated with the directive
- create the application injector
- compile the DOM with **ngApp** directive as the root of the compilation. This allows making only a portion of the DOM as an AngularJS application



Core Concepts

- Module
- Controller
- Filter
- Service
- Directives


<h3>Module</h3>

a container including controllers, services, filters, directives

- separate the application into parts for code reuse
- as dependence to other module

```html
<div ng-app="myApp">
</div>
```

```js
var myApp = angular.module('myApp', []);
```


<h3>Controller</h3>

  business logic behind views, once controller instantiated, a new scope will be created which assign to **$scope** object as an injectable parameter to the controller's constructor function

```html
<div ng-controller="myCtrl">
</div>
```

```js
myApp.controller('myCtrl', ['$scope', function($scope) {
  $scope.name = 'xxxx';
  $scope.login = function() { window.alert('login!')};
}])
```


use controllers to:

- set up the initial state of $scope
- add behavior to the $scope object


do not use controllers to:

- manipulate DOM 
- filter output
- share code or state across controllers 


<h3>Filter</h3>

formats the value of an expression for display to the user, they can be used in view templates, controllers or services

```html
<div>{{ hello | upper }}</div>
```

```js
myApp.filter('upper', function(input) {
    return input.toUpperCase();
})
```


<h3>Service</h3>

 reusable business logic independent of views, can use services to organize and share code across app


- lazily instantiated 
 - AngularJS only instantiates a service when an application component depends on it
- singletons 
 - Each component dependent on a service gets a reference to the single instance generated by the service factory


```html
<div ng-controller="myCtrl">
amount: {{ amount }}
</div>
```
```js
myApp.factory('currencyConverter', function () {
    return {
        convert: function(amount) { 
            return amount * 6.09;
        }
    }
})
myApp.controller('myCtrl', ['currencyConverter', function(currencyConverter) {
  $scope.amount = currencyConverter(100);
}])
```


<h3>Directives</h3>

- extend HTML with custom attributes and elements
- the only place where an application should access the DOM
- build-in directives, like **ng-app**, **ng-model**

```html
<my-name name="{{myname}}"></my-name>
```

```js
myApp.directive('myAmount', function() {
    return {
        template: '<div>my name: {{ name }}</div>'
        restrict: 'E'
        scope: {
            name: '='
        }
    };
})
```


Advanced Concepts

- Dependency Injection
- Injector
